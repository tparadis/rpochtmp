<%= render :partial => "/partials/page_head" %>

<!DOCTYPE html>
<html>
  <head>
    <style>
      #map {
        width: 100%;
        height: 100%;
      }
    </style>
    <script>
      function initialize() {

        var directionsService = new google.maps.DirectionsService;
        var directionsDisplay = new google.maps.DirectionsRenderer;
        var mapCanvas = document.getElementById('map');
        var mapOptions = {
          center: new google.maps.LatLng(48.112739, -1.681489),
          zoom: 15,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        }
        var map = new google.maps.Map(mapCanvas, mapOptions)
        
        var marker1 = new google.maps.Marker({
            position: new google.maps.LatLng(48.111296, -1.676554),
            map: map,
            title: 'Le Fuji!'
       });
        var marker2 = new google.maps.Marker({
                   position: new google.maps.LatLng(48.111368, -1.679301),
                   map: map,
                   title: 'Opera Rennes'
              });
        
        var marker3 = new google.maps.Marker({
                   position: new google.maps.LatLng(48.112955, -1.680005),
                   map: map,
                   title: 'Bears Skate Shop'
              });
        
        directionsService.route({
            origin: new google.maps.LatLng(48.111296, -1.676554),
            destination: new google.maps.LatLng(48.112955, -1.680005),
          waypoints: [
              {
                location:new google.maps.LatLng(48.111368, -1.679301),
                stopover:true
              }],
            travelMode: google.maps.TravelMode.WALKING
          });
        directionsDisplay.setMap(map);
        
        var request = {
            origin:new google.maps.LatLng(48.111296, -1.676554),
            destination:new google.maps.LatLng(48.112955, -1.680005),
          waypoints: [
                        {
                          location:new google.maps.LatLng(48.111368, -1.679301),
                          stopover:false
                        }],
            travelMode: google.maps.TravelMode.WALKING
          };
          directionsService.route(request, function(result, status) {
            if (status == google.maps.DirectionsStatus.OK) {
              directionsDisplay.setDirections(result);
            }
          });

      }

      
      </script>
  </head>
  <body>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAfh64T7GInE-G0rPQ35PHjmPr1erbaJgg&signed_in=true&callback=initialize"
    async defer></script>

    <div id="map"></div>
    <!--,
        waypoints: [
            {
              location:new google.maps.LatLng(48.111368, -1.679301),
              stopover:true
            }],--!>
  </body>
</html>