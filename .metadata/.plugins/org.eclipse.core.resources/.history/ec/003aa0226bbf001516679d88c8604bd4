       

$(document).load(function() {
	var listData = ['Coiffeur' , 'Magasins de chaussure' , 'Salle de massage' , 'Parfumerie' , 'Opticien'];                             
	var tabCoord; 
	$('#example').DataTable( {
        "scrollY":        "200px",
        "scrollCollapse": true,
        "paging":         false
    } );
    var t = $('#example').DataTable();
    var counter = 1;
    
    var numberOfListItems = listData.length;   			   
    if(numberOfListItems != 0){
    	for( var i =  0 ; i < numberOfListItems ; ++i){
    		t.row.add( [
            listData[i],
            'test',
            'test'
        ] ).draw( false );
    	}
    }else{
  	  alert("Vous n'avez choisis aucun magasin pour votre parcours.");
    }
} );

function genererParcours(){
	$.ajax({
	    dataType: "json",
	    contentType: "application/json",
		url : "http://rpoch.istic.univ-rennes1.fr/api/",
		data : {"req":"path","format":"json"}, //req = path indique que vous formulez une requete pour creer un parcours au backend
		type : "GET",
		async:false,
		success: function(data){
			var t = $('#example').DataTable();
			t.clear().draw();
			var tabCoord = new Array();
			for(var i = 0 ; i < data["size"] ; ++i)
			{
				if(data["commerces"][i]["enseigne"] != null){
					t.row.add( [
						data["commerces"][i]["enseigne"],
						'test',
						'test'
					] ).draw( false );
				}
				tabCoord[i] = new Array(data["commerces"][i]["location_lat"], data["commerces"][i]["location_lat"]);
			}
			setCookie(tabCoord, tabCoord, 2);
		},
		error: function(XMLHttpRequest, textStatus, errorThrown)
		{
			alert(textStatus +", " +errorThrown);
		}
	});
}

function setCookie(cname, cvalue, exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires="+d.toUTCString();
    document.cookie = cname + "=" + cvalue.toString() + "; " + expires;
}

function afficherTags(nomMagasin){
	document.write("je suis ici");
}

function addTags(){
	
}
